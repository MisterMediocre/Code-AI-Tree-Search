Let's simulate a binary search algorithm. Initially, we have the required position pos. For the next middle position in the binary search, we can determine exactly whether the next number at this position should be greater or less than x. For all other positions, the values can be either greater or less than x. As a result of the simulation of the algorithm, we have cntBig positions at which numbers must be greater than x and cntLess positions at which numbers must be less than x. Let the large numbers be hasBig, and the smaller ones hasLess. Now let's count the number of ways to place large numbers in cntBig positions using the formula C(hasBig, cntBig) Â· cntBig!.

Let's calculate in a similar way for smaller numbers, and the product of the resulting results will be the answer to the problem.
